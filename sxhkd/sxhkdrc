# -*-mode: Conf-*-

# terminal emulator
mod4 + Return
     urxvt

mod4 + e
     scratchmacs

mod4 + u ; mod4 + {u,f}
     {scratchterm,fmterm}

# set flags
mod4 + f; {m,l,s,p}
    bspc node -g {marked,locked,sticky,private}

# move marked node to current desktop
mod4 + g
    cur_desk=$(bspc query -D -d focused); \
    bspc node any.marked -d "$cur_desk" --focus

# program launcher
mod4 + @apostrophe
     dmenu_run -l 5

mod4 + v
     roficlip

# create a receptacle
mod4 + shift + Return
     bspc node -i

# insert receptacle, or clear receptacles on current desktop
mod4 + Control + {_,Shift} + Return
    insert={true,false}; \
    $insert && bspc node -i || \
    for win in `bspc query -N -n .leaf.\!window.local`; do bspc node $win -k ; done;

# make sxhkd reload its configuration files:
mod4 + Escape
    pkill -USR1 -x sxhkd

# bspwm hotkeys

## quit bspwm normally
mod4 + control + Escape
    bspc quit

## close
mod4 + c
    bspc node -c

## set the window state
mod4 + s; {t,f,shift+f}
    bspc node -t {tiled,floating,fullscreen}

## set the node flags
mod4 + ctrl + {m,x,y,z}
    bspc node -g {marked,locked,sticky,private}

## Alternate between the tiled and monocle layout
mod4 + l
    bspc desktop -l next

## focus the node in the given direction
mod4 + {_,shift + }{d,h,t,n}
    bspc node --{focus,swap} {west,south,north,east}

## center 
mod4 + semicolon
     corner -c

## focus the last desktop
mod4 + Tab
    bspc node -f prev.local

focus the older or newer node in the focus history
mod4 + ctrl {_, shift +} u 
    bspc wm -h off; \
    bspc node {older,newer} -f; \
    bspc wm -h on

## focus or send to the given desktop
mod4 + {_,shift + } {1-9,0}
    bspc {desktop -f,node -d} '^{1-9,10}'

## preselect the direction
mod4 + ctrl + {d,h,t,n}
    bspc node -p {west,south,north,east}

## preselect the ratio
mod4 + ctrl + {1-9}
	bspc node -o 0.{1-9}

## cancel the preselection for the focused node
mod4 + ctrl + space
	bspc node -p cancel

## cancel the preselection for the focused desktop
mod4 + ctrl + shift + space
	bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel


## rotate 90 deg
mod4 + {_,shift} + r
    bspc node @parent -R {90,270}

# contract/expand side a
# l | d | u | r
# --+---+---+--
# h | j | k | l 
# d | h | t | n
mod4 + alt + {h,t}
     bspc node {-z right -20 0 -z bottom 0 -20,-z right 20 0 -z bottom 0 20}

mod4 + alt + {d, n}
     bspc node {-z left -20 0,-z right 20 0}

# move a floating window
mod4 + {Left,Down,Up,Right}
    bspc node -v {-20 0,0 20,0 -20,20 0}

# volume
{XF86AudioRaiseVolume,XF86AudioLowerVolume,XF86AudioMute}
    amixer set Master {1%+,1%-,toggle} 


